<!DOCTYPE html>
<html lang="en">
<head>
<script src="trackPlayerInputs.js" defer></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Countdown Timer</title>
  <style>
     body, html {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
    }

    body {
        display: flex;
        justify-content: center;  /* Center horizontally */
        margin-top: 300px;
        height: 100vh;            /* Full viewport height */
        font-family: Arial, sans-serif;
        font-size: 22px;
    }

    #countdown {
        font-size: 18px;
        font-weight: bold;
        margin: 0;
        position: absolute;
        bottom: 25%;  /* Position at the bottom of the page */
        left: 50%;  /* Center it horizontally */
        transform: translateX(-50%);  /* Adjust for exact horizontal centering */
    }

    #time-elapsed {
        position: absolute;
        top: 20px;
        right: 20px;
        font-size: 18px;
        background-color: rgba(0, 0, 0, 0.5);
        color: white;
        padding: 5px 10px;
        border-radius: 5px;
    }

  </style>
</head>

<script src="timer.js" defer></script>
<link rel="stylesheet" href="index.css">

<body>

  <div id="countdown">Next page loads in 10 seconds</div>

  <div class="center-content">
    <p><strong>We're developing an algorithm that distributes rewards based on players' scores. The algorithm calculates reward percentages for each player, and we need your help to assess if they are fair. Youâ€™ll be asked to rate whether each proposed percentage is fair or not. </strong><br>
        
  </div>

  <script>
    let countdownValue = 10;

    // Retrieve URL parameters
    const urlParams = new URLSearchParams(window.location.search);
    const score = urlParams.get('score'); // Get the score from the URL
    const lines = urlParams.get('lines'); // Get the lines from the URL
    const loopCount = parseInt(urlParams.get('loopCount')); // Get the loop count from the URL

    const countdownElement = document.getElementById('countdown');

    // Countdown function
    function startCountdown() {
      const countdownInterval = setInterval(() => {
        if (countdownValue > 0) {
          countdownValue--;
          countdownElement.textContent = `Next page loads in: ${countdownValue} seconds`;
        } else {
          clearInterval(countdownInterval);  // Stop the interval when countdown reaches 0
        }
      }, 1000);
    }

    // Start countdown
    startCountdown();

    // Set timeout to redirect to the next page after countdown completes
    setTimeout(function() {
        // Ensure the variables (loopCount, score, lines) are set
        window.location.href = `calculation.html?loopCount=${loopCount}&score=${score}&lines=${lines}`;
    }, 10000);  // 10 seconds after the page loads
  </script>

</body>
</html>
